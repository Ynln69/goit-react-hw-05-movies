"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[65],{4029:function(e,t,n){n.d(t,{BG:function(){return h},Bt:function(){return g},LC:function(){return d},NX:function(){return b},VI:function(){return l},Vu:function(){return m},oO:function(){return v},pg:function(){return f},wr:function(){return p}});var r=n(5861),o=n(4687),a=n.n(o),c=n(1243),i=n(1686),u=n.n(i),s="bb95fe38b7df9f87f0ecf707b6f0bb8b",p=function(){var e=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.get("https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(s));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),u().Notify.failure("Error fetching movies");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.get("https://api.themoviedb.org/3/search/movie?api_key=".concat(s,"&language=en-US&query=").concat(t,"&page=1"));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),u().Notify.failure("Error fetching movies");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),l=function(e){return e.map((function(e){var t=e.id,n=e.title,r=e.release_date,o=e.vote_average,a=e.poster_path;return{id:t,title:n,release_date:r,rating:o.toFixed(1),poster:a?"https://image.tmdb.org/t/p/w500".concat(a):"https://thumbs.dreamstime.com/b/%D0%B8-%D1%8E%D1%81%D1%82%D1%80%D0%B0%D1%86%D0%B8%D1%8F-%D0%BF-%D0%B0%D0%BA%D0%B0%D1%82%D0%B0-%D0%BA%D0%B8%D0%BD%D0%BE-48746594.jpg"}}))},h=function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(s,"&language=en-US"));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),u().Notify.failure("Error fetching movie");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=").concat(s,"&language=en-US"));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),u().Notify.failure("Error fetching cast");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),v=function(e){return e.map((function(e){var t=e.cast_id,n=e.character,r=e.name,o=e.profile_path;return{id:t,character:n,name:r,photo:o?"https://image.tmdb.org/t/p/w500".concat(o):"https://you-anime.ru/anime-images/characters/WNbWU2vEyeW5hAyO.jpg"}}))},g=function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=").concat(s,"&language=en-US&page=1"));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),u().Notify.failure("Error fetching reviews");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),m=function(e){return e.map((function(e){var t=e.id,n=e.content,r=e.author_details;return{id:t,author:e.author,content:n,userName:r.username,avatar:r.avatar_path&&r.avatar_path.startsWith("/http")?r.avatar_path.slice(1,r.avatar_path.length):"https://image.tmdb.org/t/p/w500".concat(r.avatar_path)}}))},b=function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"/videos?api_key=").concat(s,"&language=en-US"));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),u().Notify.failure("Error fetching reviews");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},559:function(e,t,n){n.d(t,{V:function(){return u},j:function(){return i}});var r,o,a=n(168),c=n(7402),i=c.Z.ul(r||(r=(0,a.Z)(["\n  display: flex;\n  gap: 10px;\n  flex-direction: column;\n\n  > li {\n    padding: 15px;\n    display: flex;\n    gap: 10px;\n    border-bottom: 1px solid black;\n    flex-direction: column;\n    box-shadow: rgba(0, 0, 0, 0.1) 0px 2px 5px -1px;\n    background-color: rgba(0, 0, 0, 0.3);\n    backdrop-filter: blur(2px);\n    border-radius: 5px;\n    > div {\n      display: flex;\n      align-items: center;\n      gap: 10px;\n      > img {\n        border-radius: 50%;\n      }\n    }\n    > p {\n      cursor: pointer;\n      text-overflow: ellipsis;\n    }\n  }\n"]))),u=c.Z.p(o||(o=(0,a.Z)(["\n  font-size: 36px;\n  text-align: center;\n  padding: 20px;\n  font-weight: 800;\n"])))},5065:function(e,t,n){n.r(t),n.d(t,{default:function(){return D}});var r,o,a,c=n(5861),i=n(9439),u=n(4687),s=n.n(u),p=n(1686),f=n.n(p),l=n(2791),h=n(7689),d=n(4164),v=n(168),g=n(7402),m=g.Z.div(r||(r=(0,v.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n"]))),b=g.Z.div(o||(o=(0,v.Z)(["\n  max-width: calc(100vw - 48px);\n  max-height: calc(100vh - 24px);\n"]))),x=g.Z.button(a||(a=(0,v.Z)(["\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  right: 25px;\n  top: 75px;\n  cursor: pointer;\n  border-radius: 23%;\n  border: none;\n  color: yellow;\n  background-color: #3f51b5;\n  font-size: 10px;\n  font-weight: 700;\n  &:hover,\n  &:focus {\n    background-color: #303f9f;\n  }\n"]))),w=n(184),y=document.querySelector("#modal-root"),k=function(e){var t=e.children,n=e.onClose;(0,l.useEffect)((function(){var e=function(e){"Escape"===e.code&&n()};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}));return(0,d.createPortal)((0,w.jsxs)(m,{onClick:function(e){e.currentTarget===e.target&&n()},children:[(0,w.jsx)(x,{type:"button",onClick:function(){n()},children:"X"}),(0,w.jsx)(b,{children:t})]}),y)},Z=n(4029),_=n(559),D=function(){var e=(0,l.useState)(!0),t=(0,i.Z)(e,2),n=t[0],r=t[1],o=(0,l.useState)({}),a=(0,i.Z)(o,2),u=a[0],p=a[1],d=(0,h.UO)().movieId;(0,l.useEffect)((function(){var e=function(){var e=(0,c.Z)(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,Z.NX)(d);case 3:return t=e.sent,n=t.data.results,p(n[0]),e.abrupt("return",u);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),f().Notify.failure("Error fetching reviews");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);return(0,w.jsx)("div",{children:n&&(0,w.jsx)(k,{onClose:function(){r(!1)},children:u?(0,w.jsx)("iframe",{width:"680",height:"400",src:"https://www.youtube.com/embed/".concat(u.key),title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0}):(0,w.jsx)(_.V,{children:"Oops there're no video to this movie"})})})}}}]);
//# sourceMappingURL=65.22b8c5f9.chunk.js.map