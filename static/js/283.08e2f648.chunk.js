"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[283],{4029:function(e,t,n){n.d(t,{BG:function(){return h},Bt:function(){return g},LC:function(){return d},NX:function(){return x},VI:function(){return l},Vu:function(){return m},oO:function(){return v},pg:function(){return f},wr:function(){return s}});var r=n(5861),a=n(4687),o=n.n(a),i=n(1243),c=n(1686),u=n.n(c),p="bb95fe38b7df9f87f0ecf707b6f0bb8b",s=function(){var e=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.get("https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(p));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),u().Notify.failure("Error fetching movies");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.get("https://api.themoviedb.org/3/search/movie?api_key=".concat(p,"&language=en-US&query=").concat(t,"&page=1"));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),u().Notify.failure("Error fetching movies");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),l=function(e){return e.map((function(e){var t=e.id,n=e.title,r=e.release_date,a=e.vote_average,o=e.poster_path;return{id:t,title:n,release_date:r,rating:a.toFixed(1),poster:o?"https://image.tmdb.org/t/p/w500".concat(o):"https://thumbs.dreamstime.com/b/%D0%B8-%D1%8E%D1%81%D1%82%D1%80%D0%B0%D1%86%D0%B8%D1%8F-%D0%BF-%D0%B0%D0%BA%D0%B0%D1%82%D0%B0-%D0%BA%D0%B8%D0%BD%D0%BE-48746594.jpg"}}))},h=function(){var e=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(p,"&language=en-US"));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),u().Notify.failure("Error fetching movie");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=").concat(p,"&language=en-US"));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),u().Notify.failure("Error fetching cast");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),v=function(e){return e.map((function(e){var t=e.cast_id,n=e.character,r=e.name,a=e.profile_path;return{id:t,character:n,name:r,photo:a?"https://image.tmdb.org/t/p/w500".concat(a):"https://you-anime.ru/anime-images/characters/WNbWU2vEyeW5hAyO.jpg"}}))},g=function(){var e=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=").concat(p,"&language=en-US&page=1"));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),u().Notify.failure("Error fetching reviews");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),m=function(e){return e.map((function(e){var t=e.id,n=e.content,r=e.author_details;return{id:t,author:e.author,content:n,userName:r.username,avatar:r.avatar_path&&r.avatar_path.startsWith("/http")?r.avatar_path.slice(1,r.avatar_path.length):"https://image.tmdb.org/t/p/w500".concat(r.avatar_path)}}))},x=function(){var e=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"/videos?api_key=").concat(p,"&language=en-US"));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),u().Notify.failure("Error fetching reviews");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},559:function(e,t,n){n.d(t,{V:function(){return u},j:function(){return c}});var r,a,o=n(168),i=n(7402),c=i.Z.ul(r||(r=(0,o.Z)(["\n  display: flex;\n  gap: 10px;\n  flex-direction: column;\n\n  > li {\n    padding: 15px;\n    display: flex;\n    gap: 10px;\n    border-bottom: 1px solid black;\n    flex-direction: column;\n    box-shadow: rgba(0, 0, 0, 0.1) 0px 2px 5px -1px;\n    background-color: rgba(0, 0, 0, 0.3);\n    backdrop-filter: blur(2px);\n    border-radius: 5px;\n    > div {\n      display: flex;\n      align-items: center;\n      gap: 10px;\n      > img {\n        border-radius: 50%;\n      }\n    }\n    > p {\n      cursor: pointer;\n      text-overflow: ellipsis;\n    }\n  }\n"]))),u=i.Z.p(a||(a=(0,o.Z)(["\n  font-size: 36px;\n  text-align: center;\n  padding: 20px;\n  font-weight: 800;\n"])))},4283:function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});var r,a,o,i,c=n(5861),u=n(9439),p=n(4687),s=n.n(p),f=n(1686),l=n.n(f),h=n(2791),d=n(7689),v=n(4164),g=n(168),m=n(7402),x=m.Z.div(r||(r=(0,g.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n"]))),b=m.Z.div(a||(a=(0,g.Z)(["\n  max-width: calc(100vw - 48px);\n  max-height: calc(100vh - 24px);\n"]))),w=m.Z.button(o||(o=(0,g.Z)(["\n  position: absolute;\n  width: 40px;\n  height: 40px;\n  right: 25px;\n  top: 32px;\n  cursor: pointer;\n  border-radius: 23%;\n  border: none;\n  color: yellow;\n  background-color: #3f51b5;\n  font-size: 30px;\n  font-weight: 700;\n  &:hover,\n  &:focus {\n    background-color: #303f9f;\n  }\n  @media (min-width: 768px) {\n    top: 20px;\n    right: 35px;\n  }\n"]))),y=n(184),k=document.querySelector("#modal-root"),Z=function(e){var t=e.children,n=e.onClose;(0,h.useEffect)((function(){var e=function(e){"Escape"===e.code&&n()};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}));return(0,v.createPortal)((0,y.jsxs)(x,{onClick:function(e){e.currentTarget===e.target&&n()},children:[(0,y.jsx)(w,{type:"button",onClick:function(){n()},children:"X"}),(0,y.jsx)(b,{children:t})]}),k)},_=n(4029),D=m.Z.iframe(i||(i=(0,g.Z)(["\n  width: 275px;\n  height: 190px;\n  @media (min-width: 768px) {\n    width: 580px;\n    height: 300px;\n  }\n  @media (min-width: 1200px) {\n    width: 880px;\n    height: 500px;\n  }\n"]))),B=n(559),E=function(){var e=(0,h.useState)(!0),t=(0,u.Z)(e,2),n=t[0],r=t[1],a=(0,h.useState)({}),o=(0,u.Z)(a,2),i=o[0],p=o[1],f=(0,d.UO)().movieId;(0,h.useEffect)((function(){var e=function(){var e=(0,c.Z)(s().mark((function e(){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,_.NX)(f);case 3:return t=e.sent,n=t.data.results,p(n[0]),e.abrupt("return",i);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),l().Notify.failure("Error fetching reviews");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);return(0,y.jsx)("div",{children:n&&(0,y.jsx)(Z,{onClose:function(){r(!1)},children:i?(0,y.jsx)(D,{src:"https://www.youtube.com/embed/".concat(i.key),title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0}):(0,y.jsx)(B.V,{children:"Oops there're no video to this movie"})})})}}}]);
//# sourceMappingURL=283.08e2f648.chunk.js.map